{"version":3,"sources":["components/Header.module.scss","components/form-controls/PositionAdjuster.module.scss","index.module.scss","components/form-controls/Input.tsx","components/form-controls/Textarea.tsx","components/form-controls/Select.tsx","images/cursor.png","images/dummy.png","images/live.png","images/base.png","images/base--2.png","images/base--3.png","images/base--peko.png","images/base--anti.png","images/mask.png","images/mask--2.png","images/mask--3.png","images/mask--peko.png","images/mask--anti.png","images/ribbon.png","utils/ribbon-img-loader.ts","images/ribbon--new.png","images/ribbon--kusozako.png","images/ribbon--kusodasa.png","images/ribbon--gebokawa.png","images/ribbon--gebokawa2.png","images/ribbon--gachikoi.png","images/ribbon--gachikoi2.png","images/ribbon--detawane.png","images/ribbon--omedetei.png","images/ribbon--dekapai.png","images/ribbon--ark.png","images/ribbon--anti-new.png","images/talents/coco--c.png","images/talents/coco--c2.png","images/talents/coco--a.png","images/talents/coco--a2.png","images/talents/shiranui-flare--02.png","images/talents/shiranui-flare--02ibukashige.png","images/talents/shiranui-flare--02smile.png","images/talents/haato--gangimari.png","images/talents/lamy--3dkeibetsu.png","images/talents/lamy--3dtehepero.png","images/talents/lamy--3dnohohon.png","images/talents/lamy--3dsad.png","images/talents/lamy--3dpose.png","images/talents/lamy--3dposetere.png","images/talents/okami-mio--02sad.png","images/talents/tsunomaki-watame--smile.png","images/talents/tsunomaki-watame--kossori.png","images/talents/tsunomaki-watame--tirari.png","images/talents/tsunomaki-watame--gangimari.png","images/talents/tsunomaki-watame--03doya.png","images/talents/tsunomaki-watame--3dsunglass.png","utils/main-img-loader.ts","images/talents/tsunomaki-watame--3dgangimari.png","images/kaicho/gangimari.png","images/kaicho/gangimari--right.png","images/kaicho/gangimari--right2.png","images/kaicho/smile.png","images/kaicho/pekora.png","images/kaicho/pekora--closeeyes.png","utils/kaicho-img-loader.ts","images/kaicho/v2.png","images/kaicho/v2--eyeright.png","images/kaicho/v2--eyeleft.png","images/kaicho/anti.png","images/ban-stream.png","images/emergency.png","components/form-controls/PositionAdjuster.tsx","components/App.tsx","components/Header.tsx","images/logo.png","components/Footer.tsx","reportWebVitals.ts","index.tsx","components/App.module.scss","components/form-controls/Common.module.scss","components/Footer.module.scss"],"names":["module","exports","Input","label","props","attr","type","checked","className","styles","host","wrap","data-type","input","Textarea","note","map","s","textarea","Select","options","select","name","value","ribbons","test","talents","cocoYushikisha","cocoYushikisha2","cocoA","cocoA2","flare02","flare02smile","flare02ibukashige","haachamag","lamy3dk","lamy3dt","lamy3dn","lamy3ds","lamy3dp","lamy3dpt","mio2s","watames","watameg","watamek","watamet","watame03d","watame3ds","kaicho","gangimari","gangimariRight","gangimariRight2","smile","pekora","pekorac","id","PositionAdjuster","direction","btns","role","aria-labelledby","data-direction","uniqueStyles","lyt","item","btn","onClick","txt","getImageObj","img","obj","globalThis","Image","src","streamModeList","default","emergency","restricted","baseImgSrc","baseImg","base2Img","base3Img","peko","basepekoImg","anti","baseAntiImg","maskImgSrc","maskImg","mask2Img","mask3Img","maskpekoImg","maskAntiImg","versionList","mainAreaPos","commentParser","comment","text","join","trim","defaultComments","row","isMember","Math","random","watchNow","key","isStart","callback","clearInterval","window","setInterval","date","Date","String","getHours","padStart","getMinutes","App","useState","version","setVersion","isMasked","setMask","useBlindfold","setUseBlindfold","blindfoldX","setBlindfoldX","blindfoldY","setBlindfoldY","blindfoldW","setBlindfoldW","blindfoldH","setBlindfoldH","streamMode","setStreamMode","useOriginal","setUseOriginal","ribbon","setRibbon","nameText","setNameText","setText","time","setTime","useNow","setUseNow","shuffle","setComment","commentClip","setCommentClip","commentSize","setcommentSize","commentColor","setcommentColor","commentEdgeColor","setcommentEdgeColor","kaichoImgSrc","setKaichoImgSrc","dummyImg","mainImgSrc","setMainImgSrc","originalImgSrc","setOriginalImgSrc","originalImgStartX","originalImgStartY","originalImgBaseY","setOriginalImgBaseY","originalImgBaseX","setOriginalImgBaseX","originalImgWidth","setOriginalImgWidth","originalImgHeight","setOriginalImgHeight","originalImgScale","setOriginalImgScale","originalImgYminmax","setOriginalImgYminmax","originalImgY","setOriginalImgY","originalImgXminmax","setOriginalImgXminmax","originalImgX","setOriginalImgX","emit","setEmit","agree","setAgree","parts","image","x","y","width","height","attrs","fontSize","align","lineHeight","verticalAlign","commentElement","clipY","clipX","clipWidth","clipHeight","i","_name","msg","replace","str","length","reduce","p","c","node","strokeWidth","stroke","lineJoin","fill","floor","banStreamImg","emergencyImg","fontFamily","liveImg","split","_title","parseName","ageIndexZen","lastIndexOf","ageIndexHan","ageIndex","slice","fromCharCode","charCodeAt","age","title","nameAttr","scaleY","ageAttr","scaleX","titleAttr","find","ribbonImg","originalImgUpdate","_options","scale","naturalWidth","naturalHeight","baseX","baseY","xMin","xMax","yMin","yMax","useEffect","addEventListener","e","preventDefault","returnValue","container","canvas","onContextMenu","alert","stage","cursorImg","draggable","ui","onChange","target","ui__child","hidden","accept","files","fileReader","FileReader","blob","size","denominator","MB","pow","GB","TB","unit","confirm","onload","result","readAsDataURL","padEnd","min","max","step","Number","disabled","placeholder","list","Object","entries","run","val","rows","data","selectionStart","chars","idx","price","download","agree__wrap","agree__input","agree__label","href","download__h2","download__note","download__imgWrap","alt","download__img","download__btnWrap","document","querySelector","toDataURL","download__btn","Header","matchMedia","matches","body","dataset","color","style","display","justifyContent","padding","whiteSpace","rel","Footer","isExpanded","setExpanded","data-is-expanded","stopPropagation","aria-expanded","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","content","getElementById"],"mappings":"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","file":"static/js/main.f4918795.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2XAj3\",\"h1\":\"Header_h1__2mCcs\",\"logo\":\"Header_logo__2XG30\",\"ui\":\"Header_ui__3ZaWo\",\"item\":\"Header_item__2oP0O\",\"btn\":\"Header_btn__2uH_H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lyt\":\"PositionAdjuster_lyt__1bFd9\",\"item\":\"PositionAdjuster_item__vWcBz\",\"btn\":\"PositionAdjuster_btn__7YqvV\",\"txt\":\"PositionAdjuster_txt__2eBG1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"src_content__HP7SL\"};","import React from 'react';\nimport styles from './Common.module.scss';\n\ntype Component = React.FC<React.InputHTMLAttributes<HTMLInputElement> & {\n  /** アクセシビリティネーム */\n  label: string | React.ReactNode,\n}>\n\nexport const Input: Component = ({label, ...props}) => {\n  // ? input + span 構造が使えないのでラッパーに属性を持たせます\n  const attr = (\n      props.type === 'radio' ||\n      props.type === 'checkbox'\n  )? {\n    'data-checked': props.checked,\n  } : {};\n\n  return (\n    <label className={styles.host}>\n      <span className={styles.label}>\n        {label}\n      </span>\n      <span className={styles.wrap} {...attr} data-type={props.type}>\n        <input {...props} className={styles.input} />\n      </span>\n    </label>\n  );\n};\n","import React from 'react';\nimport styles from './Common.module.scss';\n\ntype Component = React.FC<React.TextareaHTMLAttributes<HTMLTextAreaElement> & {\n  label: string\n  note?: string | string[]\n}>\n\nexport const Textarea: Component = ({label, note, ...props}) => {\n  return (\n    <label className={styles.host}>\n      <span className={styles.label}>\n        {label}\n      </span>\n      <span className={styles.wrap}>\n        {\n          note ?\n          typeof note === 'string' ?\n            <span className={styles.note}>{note}</span> :\n            note.map((s) => {\n              return <span className={styles.note} key={s}>{s}</span>;\n            }) :\n          null\n        }\n        <textarea {...props} className={styles.textarea} />\n      </span>\n    </label>\n  );\n};\n","import React from 'react';\nimport styles from './Common.module.scss';\n\ntype Component = React.FC<React.SelectHTMLAttributes<HTMLSelectElement> & {\n  label: string\n  /** [選択項目名, 値][] */\n  options: [string, string][]\n}>\n\nexport const Select: Component = ({label, options, ...props}) => {\n  return (\n    <label className={styles.host}>\n      <span className={styles.label}>\n        {label}\n      </span>\n      <span className={styles.wrap}>\n        <select {...props} className={styles.select}>\n          {\n            options.map(([name, value]) => (\n              <option value={value} key={name}>{name}</option>\n            ))\n          }\n        </select>\n      </span>\n    </label>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/cursor.ed6076b2.png\";","export default __webpack_public_path__ + \"static/media/dummy.d7abfbe6.png\";","export default __webpack_public_path__ + \"static/media/live.07a4000d.png\";","export default __webpack_public_path__ + \"static/media/base.99c694b2.png\";","export default __webpack_public_path__ + \"static/media/base--2.cef7f781.png\";","export default __webpack_public_path__ + \"static/media/base--3.343434f8.png\";","export default __webpack_public_path__ + \"static/media/base--peko.98422930.png\";","export default __webpack_public_path__ + \"static/media/base--anti.cdc0e84f.png\";","export default __webpack_public_path__ + \"static/media/mask.3c58db06.png\";","export default __webpack_public_path__ + \"static/media/mask--2.a63750e5.png\";","export default __webpack_public_path__ + \"static/media/mask--3.1f2f9b8e.png\";","export default __webpack_public_path__ + \"static/media/mask--peko.8b8ff9c0.png\";","export default __webpack_public_path__ + \"static/media/mask--anti.81e29119.png\";","export default __webpack_public_path__ + \"static/media/ribbon.8c34f0f7.png\";","import ribbonNewImg from '../images/ribbon--new.png';\nimport ribbonKusoZakoImg from '../images/ribbon--kusozako.png';\nimport ribbonKusoDasaImg from '../images/ribbon--kusodasa.png';\nimport ribbonGeboKawaImg from '../images/ribbon--gebokawa.png';\nimport ribbonGeboKawa2Img from '../images/ribbon--gebokawa2.png';\nimport ribbonGachikoiImg from '../images/ribbon--gachikoi.png';\nimport ribbonGachikoi2Img from '../images/ribbon--gachikoi2.png';\nimport ribbonDetawaneImg from '../images/ribbon--detawane.png';\nimport ribbonOmedeteiImg from '../images/ribbon--omedetei.png';\nimport ribbonDekapaiImg from '../images/ribbon--dekapai.png';\nimport ribbonArkImg from '../images/ribbon--ark.png';\nimport ribbonAntiNewImg from '../images/ribbon--anti-new.png';\n\nexport const ribbons: ([string, string] | [string, string, (x: string) => boolean])[] = [\n  ['NEW', ribbonNewImg, (value) => /^new$/i.test(value)],\n  ['クソザコ', ribbonKusoZakoImg],\n  ['クソダサ', ribbonKusoDasaImg],\n  ['ゲボカワ', ribbonGeboKawaImg],\n  ['げぼかわ', ribbonGeboKawa2Img],\n  ['ガチコイ', ribbonGachikoiImg],\n  ['ガチこい', ribbonGachikoi2Img],\n  ['でたわね', ribbonDetawaneImg],\n  ['おめでてい', ribbonOmedeteiImg],\n  ['でかパイ', ribbonDekapaiImg], // https://www.youtube.com/watch?v=fAoNvVCRQ60\n  ['ARK', ribbonArkImg, (value) => /^ark$/i.test(value)], // https://www.youtube.com/watch?v=fAoNvVCRQ60\n  ['NEWアンチ', ribbonAntiNewImg, (value) => /^newアンチ$/i.test(value)], // https://www.youtube.com/watch?v=fAoNvVCRQ60\n];\n","export default __webpack_public_path__ + \"static/media/ribbon--new.0a779bfa.png\";","export default __webpack_public_path__ + \"static/media/ribbon--kusozako.710cdf57.png\";","export default __webpack_public_path__ + \"static/media/ribbon--kusodasa.eb9a8490.png\";","export default __webpack_public_path__ + \"static/media/ribbon--gebokawa.59a9b931.png\";","export default __webpack_public_path__ + \"static/media/ribbon--gebokawa2.04f0b45d.png\";","export default __webpack_public_path__ + \"static/media/ribbon--gachikoi.bbcc8971.png\";","export default __webpack_public_path__ + \"static/media/ribbon--gachikoi2.59b21a69.png\";","export default __webpack_public_path__ + \"static/media/ribbon--detawane.8cc7f0dd.png\";","export default __webpack_public_path__ + \"static/media/ribbon--omedetei.310be08b.png\";","export default __webpack_public_path__ + \"static/media/ribbon--dekapai.59efe5e9.png\";","export default __webpack_public_path__ + \"static/media/ribbon--ark.7b87e551.png\";","export default __webpack_public_path__ + \"static/media/ribbon--anti-new.64d8e3f1.png\";","export default __webpack_public_path__ + \"static/media/coco--c.f9fc9a79.png\";","export default __webpack_public_path__ + \"static/media/coco--c2.49279e0e.png\";","export default __webpack_public_path__ + \"static/media/coco--a.2eb9c606.png\";","export default __webpack_public_path__ + \"static/media/coco--a2.812338ae.png\";","export default __webpack_public_path__ + \"static/media/shiranui-flare--02.98b5701b.png\";","export default __webpack_public_path__ + \"static/media/shiranui-flare--02ibukashige.e2f8a4e7.png\";","export default __webpack_public_path__ + \"static/media/shiranui-flare--02smile.11d34dc7.png\";","export default __webpack_public_path__ + \"static/media/haato--gangimari.15e2218f.png\";","export default __webpack_public_path__ + \"static/media/lamy--3dkeibetsu.8879906d.png\";","export default __webpack_public_path__ + \"static/media/lamy--3dtehepero.d722b670.png\";","export default __webpack_public_path__ + \"static/media/lamy--3dnohohon.1fa8dffb.png\";","export default __webpack_public_path__ + \"static/media/lamy--3dsad.6a7385e2.png\";","export default __webpack_public_path__ + \"static/media/lamy--3dpose.ab710519.png\";","export default __webpack_public_path__ + \"static/media/lamy--3dposetere.80e4afc4.png\";","export default __webpack_public_path__ + \"static/media/okami-mio--02sad.c12d31c0.png\";","export default __webpack_public_path__ + \"static/media/tsunomaki-watame--smile.29f09a81.png\";","export default __webpack_public_path__ + \"static/media/tsunomaki-watame--kossori.15aa316f.png\";","export default __webpack_public_path__ + \"static/media/tsunomaki-watame--tirari.a7faf474.png\";","export default __webpack_public_path__ + \"static/media/tsunomaki-watame--gangimari.19ac736d.png\";","export default __webpack_public_path__ + \"static/media/tsunomaki-watame--03doya.aae75b14.png\";","export default __webpack_public_path__ + \"static/media/tsunomaki-watame--3dsunglass.bdf9fcb2.png\";","import cocoYushikisha from '../images/talents/coco--c.png';\nimport cocoYushikisha2 from '../images/talents/coco--c2.png';\nimport cocoA from '../images/talents/coco--a.png';\nimport cocoA2 from '../images/talents/coco--a2.png';\nimport flare02 from '../images/talents/shiranui-flare--02.png';\nimport flare02ibukashige from '../images/talents/shiranui-flare--02ibukashige.png';\nimport flare02smile from '../images/talents/shiranui-flare--02smile.png';\nimport haachamag from '../images/talents/haato--gangimari.png';\nimport lamy3dk from '../images/talents/lamy--3dkeibetsu.png';\nimport lamy3dt from '../images/talents/lamy--3dtehepero.png';\nimport lamy3dn from '../images/talents/lamy--3dnohohon.png';\nimport lamy3ds from '../images/talents/lamy--3dsad.png';\nimport lamy3dp from '../images/talents/lamy--3dpose.png';\nimport lamy3dpt from '../images/talents/lamy--3dposetere.png';\nimport mio2s from '../images/talents/okami-mio--02sad.png';\nimport watames from '../images/talents/tsunomaki-watame--smile.png';\nimport watamek from '../images/talents/tsunomaki-watame--kossori.png';\nimport watamet from '../images/talents/tsunomaki-watame--tirari.png';\nimport watameg from '../images/talents/tsunomaki-watame--gangimari.png';\nimport watame03d from '../images/talents/tsunomaki-watame--03doya.png';\nimport watame3ds from '../images/talents/tsunomaki-watame--3dsunglass.png';\nimport watame3dg from '../images/talents/tsunomaki-watame--3dgangimari.png';\n\nexport const talents: [string, string][] = [\n  ['coco? - 有識者C氏', cocoYushikisha],\n  ['coco? - 有識者C氏（肩書きなし）', cocoYushikisha2],\n  ['coco? - 桐生Aコ氏', cocoA],\n  ['coco? - 桐生Aコ氏（肩書きなし）', cocoA2],\n  ['flare - 不知火フレア（正月）', flare02],\n  ['flare - 不知火フレア（正月・笑顔）', flare02smile],\n  ['flare - 不知火フレア（正月・いぶかしげ）', flare02ibukashige],\n  ['haachama - 赤井はあと（ガンギマリ）', haachamag],\n  ['lamy - 雪花ラミィ（3D・軽蔑）', lamy3dk],\n  ['lamy - 雪花ラミィ（3D・てへぺろ）', lamy3dt],\n  ['lamy - 雪花ラミィ（3D・のほほん）', lamy3dn],\n  ['lamy - 雪花ラミィ（3D・かなしい）', lamy3ds],\n  ['lamy - 雪花ラミィ（3D・ポーズ）', lamy3dp],\n  ['lamy - 雪花ラミィ（3D・ポーズ照れ）', lamy3dpt],\n  ['mio - 大神ミオ（2019新衣装・かなしい）', mio2s],\n  ['watame - 角巻わため（笑顔）', watames],\n  ['watame - 角巻わため（ガンギマリ）', watameg],\n  ['watame - 角巻わため（こっそり）', watamek],\n  ['watame - 角巻わため（ちらっ）', watamet],\n  ['watame - 角巻わため（2021新衣装ドヤ顔）', watame03d],\n  ['watame - 角巻わため（3D・ガンギマリ）', watame3dg],\n  ['watame - 角巻わため（3D・サングラス）', watame3ds],\n];\n","export default __webpack_public_path__ + \"static/media/tsunomaki-watame--3dgangimari.501be00a.png\";","export default __webpack_public_path__ + \"static/media/gangimari.31d5a1e7.png\";","export default __webpack_public_path__ + \"static/media/gangimari--right.c0b80ffb.png\";","export default __webpack_public_path__ + \"static/media/gangimari--right2.fb429cdf.png\";","export default __webpack_public_path__ + \"static/media/smile.4597ce83.png\";","export default __webpack_public_path__ + \"static/media/pekora.7abe94c7.png\";","export default __webpack_public_path__ + \"static/media/pekora--closeeyes.bd1aa86c.png\";","import gangimari from '../images/kaicho/gangimari.png';\nimport gangimariRight from '../images/kaicho/gangimari--right.png';\nimport gangimariRight2 from '../images/kaicho/gangimari--right2.png';\nimport smile from '../images/kaicho/smile.png';\nimport pekora from '../images/kaicho/pekora.png';\nimport pekorac from '../images/kaicho/pekora--closeeyes.png';\nimport v2 from '../images/kaicho/v2.png';\nimport v2er from '../images/kaicho/v2--eyeright.png';\nimport v2el from '../images/kaicho/v2--eyeleft.png';\nimport anti from '../images/kaicho/anti.png';\n\nexport const kaicho: [string, string][] = [\n  ['1.0 - ガンギマリ（正面）', gangimari],\n  ['1.0 - ガンギマリ（斜め右）', gangimariRight],\n  ['1.0 - ガンギマリ（斜め右2）', gangimariRight2],\n  ['1.0 - ニコニコ（正面）', smile],\n  ['2.0 - 通常（斜め左）', v2],\n  ['2.0 - 通常（目線右）', v2er],\n  ['2.0 - 通常（目線左）', v2el],\n  ['ぺこーら', pekora],\n  ['ぺこーら（目閉じ）', pekorac],\n  ['あさココアンチ', anti],\n];\n","export default __webpack_public_path__ + \"static/media/v2.8a49e658.png\";","export default __webpack_public_path__ + \"static/media/v2--eyeright.93f0de89.png\";","export default __webpack_public_path__ + \"static/media/v2--eyeleft.39c42af6.png\";","export default __webpack_public_path__ + \"static/media/anti.6e9daeca.png\";","export default __webpack_public_path__ + \"static/media/ban-stream.f368f872.png\";","export default __webpack_public_path__ + \"static/media/emergency.35c66fab.png\";","import React from 'react';\nimport styles from './Common.module.scss';\nimport uniqueStyles from './PositionAdjuster.module.scss';\n\ntype Component = React.FC<React.ButtonHTMLAttributes<HTMLButtonElement> & {\n  /** アクセシビリティネーム */\n  label: string | React.ReactNode,\n  direction: 'x' | 'y',\n  btns: {\n    label: string,\n    onClick: () => void,\n  }[]\n}>\n\nlet id = 0;\n\nexport const PositionAdjuster: Component = ({label, direction, btns, ...props}) => {\n  id++;\n\n  return (\n    <span\n      className={styles.host}\n      role=\"group\"\n      aria-labelledby={`PositionAdjuster-${id}`}\n      data-direction={direction}\n    >\n      <span\n        className={styles.label}\n        id={`PositionAdjuster-${id}`}\n      >\n        {label}\n      </span>\n      <span className={styles.wrap} data-type={props.type}>\n        <span className={uniqueStyles.lyt}>\n          {\n            btns.map((item) => (\n              <span\n                className={uniqueStyles.item}\n                key={item.label}\n              >\n                <button\n                  className={uniqueStyles.btn}\n                  onClick={item.onClick}\n                  data-type={item.label}\n                  {...props}\n                >\n                  <span\n                    className={uniqueStyles.txt}\n                  >\n                    {item.label}\n                  </span>\n                </button>\n              </span>\n            ))\n          }\n        </span>\n      </span>\n    </span>\n  );\n};\n","import React, {useState, useEffect} from 'react';\nimport {shuffle} from 'lodash';\nimport {Layer, Text, Image, Rect, Stage, Group} from 'react-konva';\nimport {Input} from './form-controls/Input';\nimport {Textarea} from './form-controls/Textarea';\nimport {Select} from './form-controls/Select';\nimport cursorImg from '../images/cursor.png';\nimport dummyImg from '../images/dummy.png';\nimport liveImg from '../images/live.png';\n// import baseImg from '../images/debug.png';\nimport baseImg from '../images/base.png';\nimport base2Img from '../images/base--2.png';\nimport base3Img from '../images/base--3.png';\nimport basepekoImg from '../images/base--peko.png';\nimport baseAntiImg from '../images/base--anti.png';\nimport maskImg from '../images/mask.png';\nimport mask2Img from '../images/mask--2.png';\nimport mask3Img from '../images/mask--3.png';\nimport maskpekoImg from '../images/mask--peko.png';\nimport maskAntiImg from '../images/mask--anti.png';\nimport ribbonImg from '../images/ribbon.png';\nimport {ribbons} from '../utils/ribbon-img-loader';\nimport {talents} from '../utils/main-img-loader';\nimport {kaicho} from '../utils/kaicho-img-loader';\nimport banStreamImg from '../images/ban-stream.png';\nimport emergencyImg from '../images/emergency.png';\nimport styles from './App.module.scss';\nimport {PositionAdjuster} from './form-controls/PositionAdjuster';\n\n// TODO: コンポーネントごとにファイルわけないと、そろそろさすがにやばいにぇ…\n\nconst getImageObj = (img: string) => {\n  const obj = new globalThis.Image();\n\n  obj.src = img;\n\n  return obj;\n};\nconst streamModeList = {\n  default: '通常',\n  emergency: '緊急速報',\n  restricted: '生放送権限剥奪',\n};\nconst baseImgSrc = {\n  '0': baseImg,\n  '1': base2Img,\n  '2': base3Img,\n  peko: basepekoImg,\n  anti: baseAntiImg,\n};\nconst maskImgSrc = {\n  '0': maskImg,\n  '1': mask2Img,\n  '2': mask3Img,\n  peko: maskpekoImg,\n  anti: maskAntiImg,\n};\nconst versionList: [string, keyof typeof baseImgSrc][] = [\n  ['1.0', '0'],\n  ['2.0', '1'],\n  ['3.0', '2'],\n  ['PekoNews!', 'peko'],\n  ['あさアンチLIVE', 'anti'],\n  // ['1.0', base3Img],\n];\nconst mainAreaPos = {\n  x: 63,\n  y: 111,\n};\nconst commentParser = (comment: (string | number)[][]) => {\n  return comment.map(([name, text]) => {\n    if (name === '[___EMPTY___]') {\n      return `：${text}`;\n    }\n\n    if (text === '[___EMPTY___]') {\n      return `${name}：`;\n    }\n\n    if (name && text) {\n      return `${name}：${text}`;\n    }\n\n    return name;\n  }).join('\\n').trim();\n};\ntype CommentData = [string, string, ...(string|number)[]][];\n/** ランダムでメンバーシップに */\nconst defaultComments = [\n  ['チュングス', '草'],\n  ['紫龍組構成員', 'NEEEEEEEEE'],\n  ['西成じじい', '草'],\n  ['KAIGAINIKI', 'lol'],\n  ['桐生会構成員', 'やっぱこれだよなぁ！'],\n  ['社畜ニキ', 'くさァｗ'],\n  ['人外ニキ', 'YABE'],\n  ['ガチ変勢', '草'],\n  ['ガンギマリあさココ常用者', 'あっ'],\n  ['一般通過野うさぎ', 'やばいぺこ'],\n  ['西成じじい', '草'],\n  ['腕組み後方彼氏面', '愚か愚かｗ'],\n  ['鉄砲玉', 'かちこみ草'],\n  ['ガテ恋', 'それは草'],\n  ['大葉ネキ', 'POI'],\n  ['えりぃとねこ', 'FAQ'],\n].map((row) => {\n  const isMember = Math.random() < .8 ? '!' : '';\n\n  row[0] = `${isMember}${row[0]}`;\n\n  return row;\n}) as CommentData;\nconst watchNow = (() => {\n  let key = -1;\n\n  return (isStart: boolean, callback: (x: string) => void) => {\n    clearInterval(key);\n\n    if (isStart) {\n      key = window.setInterval(() => {\n        const date = new Date();\n\n        callback(`${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}`);\n      }, 1000);\n    }\n  };\n})();\n\nfunction App() {\n  const [version, setVersion] = useState<keyof typeof baseImgSrc>('0');\n  const [isMasked, setMask] = useState(true);\n  const [useBlindfold, setUseBlindfold] = useState(false);\n  const [blindfoldX, setBlindfoldX] = useState(0);\n  const [blindfoldY, setBlindfoldY] = useState(0);\n  const [blindfoldW, setBlindfoldW] = useState(0);\n  const [blindfoldH, setBlindfoldH] = useState(0);\n  const [streamMode, setStreamMode] = useState<keyof typeof streamModeList>('default');\n  const [useOriginal, setUseOriginal] = useState(false);\n  const [ribbon, setRibbon] = useState('');\n  const [nameText, setNameText] = useState('');\n  const [text, setText] = useState('好きなテロップ');\n  const [time, setTime] = useState('00:00');\n  const [useNow, setUseNow] = useState(true);\n  const [comment, setComment] = useState<CommentData>(shuffle(defaultComments));\n  const [commentClip, setCommentClip] = useState(0);\n  const [commentSize, setcommentSize] = useState(93);\n  const [commentColor, setcommentColor] = useState('#ffffff');\n  const [commentEdgeColor, setcommentEdgeColor] = useState('#000000');\n  const [kaichoImgSrc, setKaichoImgSrc] = useState<string>(kaicho[0][1]);\n  const [mainImgSrc, setMainImgSrc] = useState<string>(dummyImg);\n  const [originalImgSrc, setOriginalImgSrc] = useState('');\n  const [originalImgStartX, setOriginalImgStartX] = useState(mainAreaPos.x); // TODO: なんでStateにしたんだっけにぇ…\n  const [originalImgStartY, setOriginalImgStartY] = useState(mainAreaPos.y); // TODO: わすれちゃったにぇ…\n  const [originalImgBaseY, setOriginalImgBaseY] = useState(0);\n  const [originalImgBaseX, setOriginalImgBaseX] = useState(0);\n  const [originalImgWidth, setOriginalImgWidth] = useState(0);\n  const [originalImgHeight, setOriginalImgHeight] = useState(0);\n  const [originalImgScale, setOriginalImgScale] = useState(1);\n  const [originalImgYminmax, setOriginalImgYminmax] = useState<[number, number]>([-1, 1]);\n  const [originalImgY, setOriginalImgY] = useState(0);\n  const [originalImgXminmax, setOriginalImgXminmax] = useState<[number, number]>([-1, 1]);\n  const [originalImgX, setOriginalImgX] = useState(0);\n  const [emit, setEmit] = useState('');\n  const [agree, setAgree] = useState(false);\n  const parts = {\n    Base() {\n      return <Image image={getImageObj(baseImgSrc[version])} x={0} y={0} width={1600} height={900} />;\n    },\n    Mask() {\n      return <Image image={getImageObj(maskImgSrc[version])} x={0} y={0} width={1600} height={900} />;\n    },\n    Comment() {\n      let y = 103;\n      const attrs = {\n        // y: version === '2' ? 137 : 103, // ver3.0だと少し下\n        x: 1220,\n        fontSize: 24,\n        align: 'left',\n        lineHeight: 1.5,\n        verticalAlign: 'top',\n        wrap: 'char',\n        width: 380,\n        height: 500 + commentClip,\n      };\n      const commentElement = (\n        <Group\n          x={0}\n          y={0}\n          clipY={y + 9}\n          clipX={0}\n          clipWidth={1600}\n          clipHeight={400 + commentClip}\n        >\n          {\n            comment.map(([_name, msg, price], i) => {\n              const isMember = /^[\\!！]/.test(_name);\n              const name = _name.replace(/^[\\!！]/, '');\n              const str = `${name.replace('[___EMPTY___]', '')}：${msg.replace('[___EMPTY___]', '')}`;\n              const text = str === '：' ? '' : str;\n              const length = [...text].map((s) => {\n                return /[a-z0-9]/i.test(s) ? .55 : 1;\n              }).reduce((p, c) => p + c, 0);\n\n              y += attrs.fontSize * attrs.lineHeight;\n\n              const node = (\n                <>\n                  <Text\n                    y={y}\n                    {...attrs}\n                    text={text}\n                    strokeWidth={6}\n                    stroke=\"#000\"\n                    lineJoin=\"round\"\n                  />\n                  <Text\n                    y={y}\n                    {...attrs}\n                    text={text}\n                    fill=\"#fff\"\n                    stroke=\"#fff\"\n                    strokeWidth={1}\n                  />\n                  {\n                    isMember ?\n                    <Text\n                      y={y}\n                      {...attrs}\n                      text={name}\n                      fill=\"#2ba640\"\n                      stroke=\"#2ba640\"\n                      strokeWidth={1}\n                    /> :\n                    null\n                  }\n                </>\n              );\n\n              y += (Math.floor(length / 15.75) * (attrs.fontSize * attrs.lineHeight));\n\n              return node;\n            })\n          }\n        </Group>\n      );\n\n      switch (streamMode) {\n        case 'restricted':\n          return (\n            <Image image={getImageObj(banStreamImg)} x={0} y={0} width={1600} height={900} />\n          );\n\n        case 'emergency':\n          return (\n            <>\n              {commentElement}\n              <Image image={getImageObj(emergencyImg)} x={0} y={0} width={1600} height={900} />\n            </>\n          );\n\n        default:\n          return commentElement;\n      }\n    },\n    Time() {\n      const text = time.trim();\n      const attrs = {\n        text,\n        y: 16,\n        x: 1358,\n        fontSize: 100,\n        fontFamily: '\"Times New Roman\", \"YuMincho\", \"Hiragino Mincho ProN\", \"Yu Mincho\", \"MS PMincho\", serif',\n        align: 'left',\n        verticalAlign: 'top',\n        width: 380,\n        height: 500,\n      };\n\n      return (\n        (\n          streamMode === 'default' &&\n          text\n        ) ?\n        <Group>\n          <Image image={getImageObj(liveImg)} x={0} y={0} width={1600} height={900} />\n          <Text\n            {...attrs}\n            strokeWidth={6}\n            stroke=\"#000\"\n            lineJoin=\"round\"\n          />\n          <Text\n            {...attrs}\n            fill=\"#fff\"\n            stroke=\"#fff\"\n            strokeWidth={1}\n          />\n        </Group> :\n        <></>\n      );\n    },\n    Kaicho() {\n      return <Image image={getImageObj(kaichoImgSrc)} x={0} y={0} width={1600} height={900} />;\n    },\n    Main() {\n      return (\n        mainImgSrc !== '__NO_IMAGE__' ?\n        <Image image={getImageObj(mainImgSrc)} x={0} y={0} width={1600} height={900} /> :\n        <></>\n      );\n    },\n    Original() {\n      return (\n        originalImgSrc && useOriginal ?\n        <Image\n          image={getImageObj(originalImgSrc)}\n          x={originalImgBaseX + originalImgX}\n          y={originalImgBaseY + originalImgY}\n          width={originalImgWidth * originalImgScale}\n          height={originalImgHeight * originalImgScale}\n        /> :\n        <></>\n      );\n    },\n    Blindfold() {\n      return <Rect\n        x={504 + blindfoldX}\n        y={296 + blindfoldY}\n        fill=\"#000\"\n        width={200 + blindfoldW}\n        height={30 + blindfoldH}\n      />;\n    },\n    Name() {\n      const [name, age, title] = (() => {\n        const [_title, ..._str] = nameText.replace(/ー/g, '｜').trim().split('\\n');\n        const _name = _str.join('');\n        const parseName = (str: string) => {\n          const ageIndexZen = str.lastIndexOf('（');\n          const ageIndexHan = str.lastIndexOf('(');\n\n          if (\n            ageIndexZen === -1 &&\n            ageIndexHan === -1\n          ) {\n            return [str, ''];\n          }\n\n          const ageIndex = ageIndexZen < ageIndexHan ? ageIndexHan : ageIndexZen;\n\n          return [str.slice(0, ageIndex), `（${str.slice(ageIndex).replace(/[^0-9０-９]/g, '').replace(/[０-９]/g, (s) => {\n            return String.fromCharCode(s.charCodeAt(0) - 0xFEE0);\n          })}）`];\n        };\n\n        if (!_name) {\n          return [...parseName(_title), ''];\n        }\n\n        return [...parseName(_name), _title];\n      })();\n\n      const nameAttr = {\n        text: [...name].join('\\n'),\n        y: name.length < 8 ? 240 : 180,\n        x: 1005,\n        fontSize: 69,\n        align: 'center',\n        wrap: 'word',\n        lineHeight: 1,\n        verticalAlign: 'top',\n        scaleY: (() => {\n          switch (name.length) {\n            case 1:\n            case 2:\n            case 3:\n            case 4:\n            case 5:\n            case 6:\n            case 7:\n            case 8:\n              return 0.9;\n\n            case 9:\n              return 0.8;\n\n            case 10:\n              return 0.7;\n\n            case 11:\n              return 0.6;\n\n            default:\n              return 0.5;\n          }\n        })(),\n      };\n      const ageAttr = {\n        text: age,\n        y: nameAttr.y + ((name.length * 69 * nameAttr.scaleY) + 20),\n        x: age.length < 4 ? 820 : age.length < 5 ? 893 : 921,\n        fontSize: 69,\n        align: 'center',\n        wrap: 'word',\n        lineHeight: 1,\n        verticalAlign: 'top',\n        width: 69 * 7,\n        scaleX: age.length < 4 ? .9 : age.length < 5 ? .6 : .48,\n      };\n      const titleAttr = {\n        text: [...title.replace(/「/g, '￢').replace(/」/g, '∟')].join('\\n'),\n        y: 162,\n        x: 1098,\n        fontSize: 48,\n        align: 'center',\n        wrap: 'word',\n        lineHeight: 1,\n        verticalAlign: 'top',\n        height: 670,\n        scaleY: 0.9,\n      };\n\n      return (\n        <Group>\n          {\n            title ?\n            (\n              <>\n                <Text\n                  {...titleAttr}\n                  lineJoin=\"round\"\n                  stroke=\"#000\"\n                  strokeWidth={14}\n                />\n                <Text\n                  {...titleAttr}\n                  fill=\"#fff\"\n                  stroke=\"#fff\"\n                  strokeWidth={3}\n                />\n              </>\n            ) :\n            <></>\n          }\n          <Text\n            {...nameAttr}\n            lineJoin=\"round\"\n            stroke=\"#000\"\n            strokeWidth={18}\n          />\n          <Text\n            {...nameAttr}\n            fill=\"#fff\"\n            stroke=\"#fff\"\n            strokeWidth={3}\n          />\n          <Text\n            {...ageAttr}\n            lineJoin=\"round\"\n            stroke=\"#000\"\n            strokeWidth={18}\n          />\n          <Text\n            {...ageAttr}\n            fill=\"#fff\"\n            stroke=\"#fff\"\n            strokeWidth={3}\n          />\n        </Group>\n      );\n    },\n    Ribbon() {\n      if (ribbon) {\n        const value = ribbon.trim();\n        const [img, text] = (() => {\n          const [_, src] = ribbons.find(([name, _, callback]) => {\n            if (callback) {\n              return callback(value);\n            }\n\n            return name === value;\n          }) || [];\n\n          if (src) {\n            return [src, ''];\n          }\n\n          return [ribbonImg, value];\n        })();\n\n        return (\n          <>\n            <Image image={getImageObj(img)} x={44} y={100} width={892 / 3.2} height={542 / 3.2} />\n            <Text\n              text={text}\n              y={112}\n              x={40}\n              fontSize={86}\n              align=\"center\"\n              wrap=\"word\"\n              lineHeight={1.5}\n              verticalAlign=\"bottom\"\n              fill=\"#fff\"\n              stroke=\"#fff\"\n              width={892 / 3.2}\n            />\n          </>\n        );\n      }\n\n      return <></>;\n    },\n    Telop() {\n      const attrs = {\n        text: text.trim(),\n        y: 120,\n        x: 84,\n        fontSize: commentSize,\n        align: 'center',\n        wrap: 'word',\n        lineHeight: 1.2,\n        verticalAlign: 'bottom',\n        width: 1200,\n        height: 690,\n        scaleX: 0.9,\n      };\n\n      return (\n        <Group>\n          <Text\n            {...attrs}\n            lineJoin=\"round\"\n            stroke={commentEdgeColor}\n            strokeWidth={17}\n          />\n          <Text\n            {...attrs}\n            fill={commentColor}\n            stroke={commentColor}\n            strokeWidth={3}\n          />\n        </Group>\n      );\n    },\n  };\n\n  // TODO: ピッタリよりも半分刺さるくらいまで移動できるように調整するかも\n  //       その場合は、PositionAdjusterのために\n  //       minmax系の管理方法を分離しないといけない\n  /**\n   * 手持ちの画像を調整するための\n   * @param _options - useStateで管理されている値のうち、setされてない値を受け取る\n   */\n  const originalImgUpdate = (_options: {\n    scale?: number,\n    naturalWidth?: number,\n    naturalHeight?: number,\n  }) => {\n    const options = {\n      scale: originalImgScale,\n      naturalWidth: originalImgWidth,\n      naturalHeight: originalImgHeight,\n      ..._options,\n    };\n    const {scale, naturalWidth, naturalHeight} = options;\n    // ベース座標\n    // 0, 0 は 63, 111\n    // 1125 * 696\n    const width = naturalWidth * scale / 2;\n    const height = naturalHeight * scale / 2;\n    const baseX = originalImgStartX + (1125 / 2) - width;\n    const baseY = originalImgStartY + (696 / 2) - height;\n    const xMin = -1 * (1125 / 2) + width;\n    const xMax = (1125 / 2) - width;\n    const yMin = -1 * (696 / 2) + height;\n    const yMax = (696 / 2) - height;\n\n    setOriginalImgXminmax([\n      0 < xMin ? xMax : xMin,\n      xMax < 0 ? xMin : xMax,\n    ]);\n\n    setOriginalImgYminmax([\n      0 < yMin ? yMax : yMin,\n      yMax < 0 ? yMin : yMax,\n    ]);\n\n    setOriginalImgBaseX(baseX);\n    setOriginalImgBaseY(baseY);\n  };\n\n  useEffect(() => {\n    // TODO: 何か編集があったらにしたい\n    window.addEventListener('beforeunload', (e) => {\n      e.preventDefault();\n      e.returnValue = '';\n    });\n  });\n\n  return (\n    <>\n      <div className={styles.container}>\n        <div\n          className={styles.canvas}\n          id=\"canvas-wrapper\"\n          onContextMenu={(e) => {\n            e.preventDefault();\n            alert('書き出しボタンを押して保存してくださいねー！');\n          }}\n        >\n          <Stage width={1600} height={900} className={styles.stage}>\n            <Layer>\n              <parts.Base />\n              <parts.Main />\n              <parts.Original />\n              {\n                isMasked ? <parts.Mask /> : <></>\n              }\n              {\n                useBlindfold ? <parts.Blindfold /> : <></>\n              }\n              <parts.Name />\n              <parts.Comment />\n              <parts.Time />\n              <parts.Kaicho />\n              <parts.Ribbon />\n              <parts.Telop />\n              <Image image={getImageObj(cursorImg)} x={0} y={0} width={1600} height={900} draggable={true} />\n            </Layer>\n          </Stage>\n        </div>\n\n        <div className={styles.ui}>\n          <p>\n            <Select label=\"Ver\" options={versionList} onChange={(e) => setVersion(e.target.value as keyof typeof baseImgSrc)} value={version} />\n          </p>\n\n          <p>\n            <Select label=\"会長\" options={kaicho} onChange={(e) => setKaichoImgSrc(e.target.value)} value={kaichoImgSrc} />\n          </p>\n\n          <p>\n            <Select label=\"メイン画像\" options={[\n              ['選択してください', dummyImg],\n              ['noimage - 画像なし', '__NO_IMAGE__'],\n              ...talents,\n            ]} onChange={(e) => setMainImgSrc(e.target.value)} value={mainImgSrc} />\n          </p>\n\n          <p>\n            <Input label=\"手持ちの画像\" type=\"checkbox\" onChange={() => setUseOriginal(!useOriginal)} checked={useOriginal} />\n          </p>\n\n          <p className={styles.ui__child} hidden={!useOriginal}>\n            <Input\n              label=\"ファイル選択\"\n              type=\"file\"\n              accept=\"image/png,image/jpeg,image/svg+xml,image/webp\"\n              onChange={(e) => {\n                if (e.target.files) {\n                  const fileReader = new FileReader();\n                  const img = new globalThis.Image();\n                  const [blob] = e.target.files;\n                  const limit = 8;\n\n                  if (1024 * 1024 * limit < blob.size) {\n                    const denominator = {\n                      MB: Math.pow(1024, 2),\n                      GB: Math.pow(1024, 3),\n                      TB: Math.pow(1024, 4),\n                    };\n                    const unit: 'MB' | 'GB' | 'TB' = (() => {\n                      const {TB, GB} = denominator;\n\n                      if (TB <= blob.size) {\n                        return 'TB';\n                      }\n\n                      if (GB <= blob.size) {\n                        return 'GB';\n                      }\n\n                      return 'MB';\n                    })();\n                    const size = Math.floor((blob.size / denominator[unit]) * 100) / 100;\n\n                    if (!confirm(`${limit}MB超えてんで！\\nゲボデカサイズは動作が不安定になることがあります。本当に読み込みますか？（${size}${unit})`)) {\n                      e.target.value = '';\n\n                      return;\n                    }\n                  }\n\n                  fileReader.onload = () => {\n                    img.src = String(fileReader.result);\n                    img.onload = () => {\n                      const {naturalWidth, naturalHeight} = img;\n\n                      setOriginalImgWidth(img.naturalWidth);\n                      setOriginalImgHeight(img.naturalHeight);\n\n                      originalImgUpdate({\n                        naturalWidth,\n                        naturalHeight,\n                      });\n                    };\n                    setOriginalImgSrc(String(fileReader.result));\n                  };\n                  fileReader.readAsDataURL(blob);\n                }\n              }}\n            />\n          </p>\n\n          <p className={styles.ui__child} hidden={!useOriginal}>\n            <Input\n              label={(\n                <span>\n                  スケール<br />\n                  （x{String(originalImgScale).padEnd(3, '.0')}）\n                </span>\n              )}\n              type=\"range\"\n              min=\"0.1\"\n              max=\"2\"\n              step=\"0.01\"\n              onChange={(e) => {\n                const scale = Number(e.target.value);\n\n                setOriginalImgScale(scale);\n                originalImgUpdate({\n                  scale,\n                });\n              }}\n              value={originalImgScale}\n              disabled={!originalImgSrc}\n            />\n          </p>\n\n          <p className={styles.ui__child} hidden={!useOriginal}>\n            <Input\n              label=\"X座標\"\n              type=\"range\"\n              min={originalImgXminmax[0]}\n              max={originalImgXminmax[1]}\n              onChange={(e) => setOriginalImgX(Number(e.target.value))}\n              value={originalImgX}\n              disabled={!originalImgSrc}\n            />\n          </p>\n\n          <p className={styles.ui__child} hidden={!useOriginal}>\n            <PositionAdjuster\n              label=\"X軸整列\"\n              direction=\"x\"\n              btns={[\n                {\n                  label: '左',\n                  onClick() {\n                    setOriginalImgX(originalImgXminmax[0]);\n                  },\n                },\n                {\n                  label: '中心',\n                  onClick() {\n                    setOriginalImgX(0);\n                  },\n                },\n                {\n                  label: '右',\n                  onClick() {\n                    setOriginalImgX(originalImgXminmax[1]);\n                  },\n                },\n              ]}\n              disabled={!originalImgSrc}\n            />\n          </p>\n\n          <p className={styles.ui__child} hidden={!useOriginal}>\n            <Input\n              label=\"Y座標\"\n              type=\"range\"\n              min={originalImgYminmax[0]}\n              max={originalImgYminmax[1]}\n              onChange={(e) => setOriginalImgY(Number(e.target.value))}\n              value={originalImgY}\n              disabled={!originalImgSrc}\n            />\n          </p>\n\n          <p className={styles.ui__child} hidden={!useOriginal}>\n            <PositionAdjuster\n              label=\"Y軸整列\"\n              direction=\"y\"\n              btns={[\n                {\n                  label: '上',\n                  onClick() {\n                    setOriginalImgY(originalImgYminmax[0]);\n                  },\n                },\n                {\n                  label: '中心',\n                  onClick() {\n                    setOriginalImgY(0);\n                  },\n                },\n                {\n                  label: '下',\n                  onClick() {\n                    setOriginalImgY(originalImgYminmax[1]);\n                  },\n                },\n              ]}\n              disabled={!originalImgSrc}\n            />\n          </p>\n\n          <p>\n            <Input label=\"範囲マスク\" type=\"checkbox\" onChange={() => setMask(!isMasked)} checked={isMasked} />\n          </p>\n\n          <p>\n            <Input label=\"目隠し\" type=\"checkbox\" onChange={() => setUseBlindfold(!useBlindfold)} checked={useBlindfold} />\n          </p>\n\n          <p className={styles.ui__child} hidden={!useBlindfold}>\n            <Input label=\"X座標\" type=\"range\" min={-440} max={300} onChange={(e) => setBlindfoldX(Number(e.target.value))} value={blindfoldX} />\n          </p>\n\n          <p className={styles.ui__child} hidden={!useBlindfold}>\n            <Input label=\"Y座標\" type=\"range\" min={-100} max={300} onChange={(e) => setBlindfoldY(Number(e.target.value))} value={blindfoldY} />\n          </p>\n\n          <p className={styles.ui__child} hidden={!useBlindfold}>\n            <Input label=\"幅\" type=\"range\" min={-50} max={200} onChange={(e) => setBlindfoldW(Number(e.target.value))} value={blindfoldW} />\n          </p>\n\n          <p className={styles.ui__child} hidden={!useBlindfold}>\n            <Input label=\"高さ\" type=\"range\" min={-10} max={200} onChange={(e) => setBlindfoldH(Number(e.target.value))} value={blindfoldH} />\n          </p>\n\n          <p>\n            <Input\n              label=\"リボン\"\n              placeholder=\"クソザコ/速報/悲報\"\n              onChange={(e) => setRibbon(e.target.value)}\n              value={ribbon}\n              list=\"リボン\"\n            />\n            <datalist id=\"リボン\">\n              {\n                [\n                  ...ribbons.map(([label]) => label),\n                ].map((value) => <option value={value} key={value} />)\n              }\n            </datalist>\n          </p>\n\n          {\n            Object.entries(streamModeList).map(([key, value]) => (\n              <p key={key}>\n                <Input\n                  label={value}\n                  type=\"radio\"\n                  name=\"streamMode\"\n                  onChange={() => setStreamMode(key as keyof typeof streamModeList)}\n                  checked={streamMode === key}\n                />\n              </p>\n            ))\n          }\n\n          <p className={styles.ui__child} hidden={streamMode !== 'default'}>\n            <Input label=\"現在時刻\" type=\"checkbox\" onChange={(() => {\n              const run = (isStart: boolean) => watchNow(isStart, (val: string) => setTime(val));\n\n              run(useNow);\n\n              return () => {\n                setUseNow(!useNow);\n                run(!useNow);\n              };\n            })()} checked={useNow} />\n          </p>\n\n          <p className={styles.ui__child} hidden={streamMode !== 'default'}>\n            <Input label=\"時間\" type=\"time\" onChange={(e) => setTime(e.target.value)} value={time} disabled={useNow} />\n          </p>\n\n          <p className={styles.ui__child} hidden={streamMode === 'restricted'}>\n            <Textarea\n              label=\"コメント\"\n              rows={10}\n              onChange={(e) => {\n                const {target} = e;\n                const {selectionStart} = target;\n                const value = target.value.split('\\n');\n                const data = value.map((row) => {\n                  // TODO: findIndexとsliceにする\n                  // TODO: コロンの全半角を許容（キャレットが飛ぶので置換処理は onBlur の中でやること）\n                  const chars = row.split('：');\n                  const [name, ..._msg] = chars;\n                  const msg = _msg.join('：');\n\n                  if (2 <= chars.length) {\n                    if (!msg) {\n                      return [name, '[___EMPTY___]'];\n                    }\n\n                    if (!name) {\n                      return ['[___EMPTY___]', msg];\n                    }\n                  }\n\n                  return [name, msg];\n                }) as CommentData;\n\n                setComment(data);\n              }}\n              value={commentParser(comment)}\n              note=\"名前を「!」で始めるとメンバーシップ\"\n            />\n          </p>\n\n          <div className={styles.ui__child} hidden={true}>\n            {/* 個別調整機能は一旦非公開 */}\n            <ul>\n              {\n                comment.map(([name, value, price], idx) => {\n                  return (\n                    <li key={idx}>\n                      <input value={name} onChange={(e) => {\n                        comment[idx][0] = e.target.value;\n                        setComment([...comment]);\n                      }} />\n                      <input value={value} onChange={(e) => {\n                        comment[idx][1] = e.target.value;\n                        setComment([...comment]);\n                      }} />\n                      <input value={price} onChange={(e) => {\n                        comment[idx][2] = e.target.value;\n                        setComment([...comment]);\n                      }} />\n                    </li>\n                  );\n                })\n              }\n            </ul>\n          </div>\n\n          <p className={styles.ui__child} hidden={streamMode === 'restricted'}>\n            <Input\n              label=\"コメントクリップ\"\n              type=\"range\"\n              min={-80}\n              step={10}\n              max={220}\n              onChange={(e) => setCommentClip(Number(e.target.value))}\n              value={commentClip}\n            />\n          </p>\n\n          <p>\n            <Textarea\n              label=\"肩書き・名前\"\n              placeholder={'「畜生ひつじ」こと\\n角巻わため氏'}\n              note={[\n                '肩書きと名前は改行で区切ってください',\n                '年齢は最後にかっこ書きで記述してください',\n              ]}\n              onChange={(e) => setNameText(e.target.value)}\n              value={nameText}\n            />\n          </p>\n\n          <p>\n            <Textarea label=\"テロップ\" onChange={(e) => setText(e.target.value)} value={text} />\n          </p>\n\n          <p>\n            <Input label=\"文字サイズ\" type=\"range\" min=\"63\" max=\"123\" step=\"10\" onChange={(e) => setcommentSize(Number(e.target.value))} value={commentSize} />\n          </p>\n\n          <p>\n            <Input label=\"文字色\" type=\"color\" onChange={(e) => setcommentColor(e.target.value)} value={commentColor} />\n          </p>\n\n          <p>\n            <Input label=\"縁色\" type=\"color\" onChange={(e) => setcommentEdgeColor(e.target.value)} value={commentEdgeColor} />\n          </p>\n        </div>\n      </div>\n\n      <div className={styles.download}>\n        <p className={styles.agree}>\n          <label className={styles.agree__wrap}>\n            <input\n              type=\"checkbox\"\n              checked={agree}\n              onChange={() => setAgree(!agree)}\n              className={styles.agree__input}\n            />\n            <span className={styles.agree__label}><a href=\"#guidelines\">お願いと免責事項</a>に同意し、所属タレントやあなたの作品を見た方への心情に配慮すること誓います。</span>\n          </label>\n        </p>\n\n        {\n          emit ?\n          <div hidden={!agree}>\n            <h2 className={styles.download__h2}>ダウンロード</h2>\n            <p className={styles.download__note}>画像を右クリック、またはホールドで保存してください。</p>\n            <p className={styles.download__imgWrap}>\n              <img src={emit} alt=\"作った画像\" className={styles.download__img} />\n            </p>\n          </div> :\n          <></>\n        }\n\n        <p className={styles.download__btnWrap}>\n          <button\n            onClick={() => {\n              setEmit(document.querySelector<HTMLCanvasElement>('#canvas-wrapper canvas')!.toDataURL());\n            }}\n            className={styles.download__btn}\n            disabled={!agree}\n          >画像として書き出し</button>\n        </p>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","import React, {useEffect} from 'react';\nimport logo from '../images/logo.png';\nimport * as styles from './Header.module.scss';\n\nexport const Header = () => {\n  useEffect(() => {\n    if (window.matchMedia('(prefers-color-scheme: dark)').matches) {\n      document.body.dataset.color = '1';\n    }\n  });\n\n  return (\n    <header className={styles.header}>\n      <h1 className={styles.h1}>\n        <img src={logo} alt=\"あさココLIVEジェネレータ\" className={styles.logo} />\n      </h1>\n\n      <div className={styles.ui}>\n        <p className={styles.item}>\n          <button className={styles.btn} onClick={() => document.body.dataset.color ='0'}>デフォルト</button>\n        </p>\n        <p className={styles.item}>\n          <button className={styles.btn} onClick={() => document.body.dataset.color ='1'}>ダークブルー</button>\n        </p>\n        <p className={styles.item}>\n          <button className={styles.btn} onClick={() => document.body.dataset.color ='2'}>ブラック</button>\n        </p>\n      </div>\n\n      <p style={{\n        display: 'flex',\n        justifyContent: 'center',\n        padding: '0 20px',\n        fontSize: 14,\n      }}>\n        <span style={{\n          whiteSpace: 'nowrap',\n        }}>お知らせ：</span>\n        <span>\n          AndroidおよびiOSのGoogle Chromeで画像が保存できない不具合が確認されています（Safariやスクショなら大丈夫）。<br/><a href=\"https://github.com/Kiryu-kai/asacoco-gen/projects/1\" target=\"_blank\" rel=\"noreferrer\">今後の開発予定と作業中のタスクはこちらから</a>！\n        </span>\n      </p>\n    </header>\n  );\n};\n","export default \"data:image/png;base64,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\"","import React, {useState, useEffect} from 'react';\nimport * as styles from './Footer.module.scss';\n\nexport function Footer() {\n  const [isExpanded, setExpanded] = useState(false);\n  const onclick: React.MouseEventHandler = (e) => {\n    e.stopPropagation();\n    setExpanded(!isExpanded);\n  };\n  const stopPropagetion = (e: React.MouseEvent) => e.stopPropagation();\n\n  useEffect(() => {\n    window.addEventListener('click', (e) => {\n      if (isExpanded) {\n        setExpanded(!isExpanded);\n      }\n    });\n  });\n\n  return (\n    <footer className={styles.wrap} data-is-expanded={isExpanded}>\n      <p className={styles.copyright}>\n        <small>©︎ 2019 Coco Kiryu - <button type=\"button\" className={styles.btn} onClick={onclick} aria-expanded={isExpanded}>Materials</button> - <a href=\"https://github.com/Kiryu-kai/asacoco-gen\">Repository</a> - <a href=\"/\">Home</a></small>\n      </p>\n\n      <div className={styles.material} hidden={!isExpanded}>\n        <div className={styles.material__inner} onClick={stopPropagetion}>\n          <h2 className={styles.material__hdg}>Materials</h2>\n\n          <p className={styles.material__p}>\n            The collaborators are different for each directory.\n          </p>\n\n          <p className={styles.material__p}>\n            This top page is supported by the following works.\n          </p>\n\n          <ul className={styles.material__ul}>\n            <li className={styles.material__li}>\n              <a href=\"https://twitter.com/kiryucoco/status/1218277670040956928\">桐生ココ🐉 (@kiryucoco) - Twitter</a>\n            </li>\n            <li className={styles.material__li}>\n              <a href=\"https://twitter.com/kiryucoco/status/1246839005649330176\">桐生ココ🐉 (@kiryucoco) - Twitter</a>\n            </li>\n            <li className={styles.material__li}>\n              <a href=\"https://www.youtube.com/channel/UCS9uQI-jC3DE0L4IpXyvr6w\">Coco Ch. 桐生ココ - YouTube</a>\n            </li>\n            <li className={styles.material__li}>\n              <a href=\"http://nicofont.pupu.jp/nicoca.html\">ニコカ - まるもじフォント（ニコモジ）配布所</a>\n            </li>\n          </ul>\n          <p>and more...</p>\n        </div>\n      </div>\n    </footer>\n  );\n}\n","import {ReportHandler} from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({getCLS, getFID, getFCP, getLCP, getTTFB}) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport {Header} from './components/Header';\nimport {Footer} from './components/Footer';\nimport styles from './index.module.scss';\nimport './common.scss';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <React.StrictMode>\n      <Header />\n      <main>\n        <App />\n        <div className={styles.content} id=\"guidelines\">\n          <h2>お願い・免責事項</h2>\n\n          <p>利用に際しては深い愛を以って、<a href=\"https://www.hololive.tv/terms\" target=\"_blank\" rel=\"noreferrer\">カバー株式会社のガイドライン</a>に準拠してください。</p>\n\n          <ul>\n            <li>Twitterへ投稿するときは、公式ではないこと・これまでの企画との混同を避けるために、あさココ系のハッシュタグはつけないか「<a href=\"https://twitter.com/intent/tweet?url=https://kiryu-kai.github.io/asacoco-gen&amp;hashtags=あさココジェネレーター\" target=\"_blank\" rel=\"noreferrer\">#あさココジェネレーター</a>」をつけて投稿してください。</li>\n            <li>本ツールを利用して被ったいかなる損害について、一切責任は負えません。自己責任でお願いします。</li>\n            <li>素材提供やアイディア、利用素材の中止申請等は<a href=\"https://github.com/Kiryu-kai/asacoco-gen/issues\" target=\"_blank\" rel=\"noreferrer\">GitHub Issue</a>へお願いいたします。</li>\n            <li>今後の開発予定と作業中のタスクは<a href=\"https://github.com/Kiryu-kai/asacoco-gen/projects/1\" target=\"_blank\" rel=\"noreferrer\">GitHub Projects</a>でご確認いただけます。</li>\n          </ul>\n        </div>\n      </main>\n      <Footer />\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"canvas\":\"App_canvas__15hqq\",\"stage\":\"App_stage__1xEby\",\"ui\":\"App_ui__2e66s\",\"ui__child\":\"App_ui__child__qh0sP\",\"download\":\"App_download__1CAiR\",\"download__h2\":\"App_download__h2__1PwLM\",\"download__note\":\"App_download__note__3-cKL\",\"download__imgWrap\":\"App_download__imgWrap__9u9F-\",\"download__img\":\"App_download__img__3rBkz\",\"download__btn\":\"App_download__btn__2juvy\",\"agree\":\"App_agree___ozN5\",\"agree__wrap\":\"App_agree__wrap__2xiJW\",\"agree__label\":\"App_agree__label__3egTt\",\"agree__input\":\"App_agree__input__24SDG\",\"container\":\"App_container__1qkKC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"Common_label__yjpiX\",\"wrap\":\"Common_wrap__5jPJF\",\"note\":\"Common_note__1WpMG\",\"input\":\"Common_input__2T_iq\",\"textarea\":\"Common_textarea__2_P8i\",\"select\":\"Common_select__396ap\",\"host\":\"Common_host__12E95\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"Footer_wrap__3n2zi\",\"material\":\"Footer_material__1ZpMd\",\"material__inner\":\"Footer_material__inner__Fq6Pm\",\"material__hdg\":\"Footer_material__hdg__2NH78\",\"material__p\":\"Footer_material__p__1mew-\",\"material__ul\":\"Footer_material__ul__301uL\",\"material__li\":\"Footer_material__li__1Swyf\",\"copyright\":\"Footer_copyright__3DGjo\",\"btn\":\"Footer_btn__fswW5\"};"],"sourceRoot":""}